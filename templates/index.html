<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<body class="bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 min-h-screen flex items-center justify-center p-4">
    <div class="animate__animated animate__backInUp bg-white/90 backdrop-blur-lg w-full max-w-md p-8 rounded-3xl shadow-2xl">
        <h1 class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-2">Track Hours</h1>
        <p class="text-gray-500 mb-8 font-medium">Fast. Simple. Reliable.</p>
        
        <div class="space-y-4">
            <input type="text" id="name" placeholder="Name" class="w-full p-4 rounded-2xl bg-gray-100 border-none focus:ring-4 focus:ring-purple-300 transition-all outline-none">
            <input type="date" id="date" class="w-full p-4 rounded-2xl bg-gray-100 border-none outline-none">
            <div class="grid grid-cols-2 gap-4">
                <input type="time" id="in" class="p-4 rounded-2xl bg-gray-100 border-none outline-none">
                <input type="time" id="out" class="p-4 rounded-2xl bg-gray-100 border-none outline-none">
            </div>
            <button onclick="send()" class="w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-2xl shadow-lg hover:scale-105 active:scale-95 transition-transform">SUBMIT LOG</button>
        </div>
        <div id="status" class="hidden mt-6 p-4 bg-green-100 text-green-700 rounded-xl text-center font-bold animate__animated animate__fadeIn">Success! Hours Logged.</div>
    </div>
<script>
async function send() {
    const data = { 
        name: document.getElementById('name').value, 
        date: document.getElementById('date').value, 
        in: document.getElementById('in').value, 
        out: document.getElementById('out').value 
    };
    
    const response = await fetch('/calculate', { 
        method: 'POST', 
        headers: {'Content-Type': 'application/json'}, 
        body: JSON.stringify(data) 
    });
    
    const result = await response.json();
    
    // Show the status and the total for that specific entry
    const statusDiv = document.getElementById('status');
    statusDiv.innerHTML = `âœ… Successfully Logged: <span class="text-2xl">${result.total_hours}</span> hrs`;
    statusDiv.classList.remove('hidden');
    
    // Refresh after 3 seconds to clear the form
    setTimeout(() => location.reload(), 3000);
}
</script>
</body>
</html>