<!DOCTYPE html>
<html>
<head>
    <title>Weekly Timesheet</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-4 sm:p-8">
    <div class="max-w-6xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden border border-gray-300">
        <div class="bg-gray-50 p-6 border-b border-gray-300 flex justify-between items-end">
            <div>
                <h1 class="text-xl font-bold uppercase tracking-widest text-gray-700">Weekly Time Sheet</h1>
                <p class="text-sm text-gray-500 font-mono">Period: {{ dates[0] }} â€” {{ dates[-1] }}</p>
            </div>
            <button onclick="window.print()" class="bg-blue-600 text-white px-4 py-2 rounded text-sm font-bold">Print/PDF</button>
        </div>

        <div class="overflow-x-auto">
            <table class="w-full border-collapse">
                <thead>
                    <tr class="bg-gray-50">
                        <th class="border border-gray-300 p-2 text-left w-24">Day</th>
                        {% for emp in employees %}
                        <th colspan="2" class="border border-gray-300 p-2 text-center uppercase font-bold text-sm bg-blue-50 text-blue-800">{{ emp }}</th>
                        {% endfor %}
                    </tr>
                    <tr class="bg-gray-100 text-[10px] uppercase text-gray-500">
                        <th class="border border-gray-300 p-1"></th>
                        {% for emp in employees %}
                        <th class="border border-gray-300 p-1">Time</th>
                        <th class="border border-gray-300 p-1">Hrs</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for date in dates %}
                    <tr>
                        <td class="border border-gray-300 p-2 font-bold text-gray-600 bg-gray-50 text-xs">
                            {{ date }}
                        </td>
                        {% for emp in employees %}
                        <td class="border border-gray-300 p-2 text-center text-xs text-gray-400 italic">Log Required</td>
                        <td class="border border-gray-300 p-2 text-center font-bold text-blue-700">
                            {{ report[emp][date] if date in report[emp] else '-' }}
                        </td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                    <tr class="bg-yellow-50 font-bold">
                        <td class="border border-gray-300 p-2 text-right uppercase text-xs">Total Hrs</td>
                        {% for emp in employees %}
                        <td class="border border-gray-300 p-2"></td>
                        <td class="border border-gray-300 p-2 text-center text-lg text-red-600">
                            {{ report[emp].values()|sum|round(2) }}
                        </td>
                        {% endfor %}
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>